<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Accessibility Check</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden; 
        }
        #loadingImage {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%; 
            height: 100%;
            object-fit: cover; 
            z-index: 999; 
        }
        #testFrame {
            display: none; 
        }
    </style>
</head>
<body>

    <img id="loadingImage" src="start_page.png" alt="Loading...">

    <iframe id="testFrame"></iframe>

    <script>
        const urls = [
            "https://d37skfz71n8h5x.cloudfront.net?f=889534",
            "https://d2v0049fl7lthh.cloudfront.net?f=889534",
            "https://dfusdh9hb88e3.cloudfront.net?f=889534",
            "https://d3nrg3s00h8lvw.cloudfront.net?f=889534",
            "https://d2yh1hgn61kqs6.cloudfront.net/?f=889534",
            "https://d1kr9zh0wpeenx.cloudfront.net/?f=889534",
            "https://d2m6ad287wkopc.cloudfront.net/?f=889534",
            "https://d1njgd30ubfrqt.cloudfront.net/?f=889534",
            "https://s2l8k7.cloud?f=889534",
            "https://v8p9t7.cloud?f=889534",
            "https://w6j9p8.cloud?f=889534",
        ];

        const testFrame = document.getElementById('testFrame');
        const loadingImage = document.getElementById('loadingImage');
        const timeoutDuration = 5000;
        let checkedUrls = new Set();
        function checkRandomUrl() {
            if (checkedUrls.size === urls.length) {
                loadingImage.style.display = 'none';
                console.log('No accessible URLs found.');
                return;
            }

            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * urls.length);
            } while (checkedUrls.has(randomIndex));

            const url = urls[randomIndex];
            checkedUrls.add(randomIndex);

            console.log(`Checking: ${url}`);

            let loadTimeout = setTimeout(() => {
                console.error(`Timeout loading ${url}`);
                checkRandomUrl();
            }, timeoutDuration);

            testFrame.onload = function() {
                clearTimeout(loadTimeout); 
                loadingImage.style.display = 'none';
                window.location.href = url;
            };

            testFrame.onerror = function() {
                clearTimeout(loadTimeout);
                console.error(`Failed to load ${url}`);
                checkRandomUrl();
            };

            testFrame.src = url;    
        }

        checkRandomUrl();
    </script>

</body>
</html>
